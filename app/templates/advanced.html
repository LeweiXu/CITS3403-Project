{% extends "base.html" %}

{% block title %}MediaTracker - Advanced{% endblock %}

{% block content %}
<div class="container">
    <h2 class="text-center mt-4">Advanced Options</h2>
    <!-- CSV Upload Section -->
    <section class="form-section mt-5">
        <h3>Upload CSV File</h3>
        <form action="/upload" method="post" enctype="multipart/form-data" id="csv-upload-form">
            <div class="form-group full">
                <!-- CSV Drag and Drop Zone -->
                <div id="drop-zone">
                    <p>Drag &amp; drop your CSV here <br>- or - <br>
                        <button type="button" id="choose-file-btn" class="btn btn-outline-primary btn-sm">
                            Browse files
                        </button>
                    </p>
                    <!-- Hide the native picker -->
                    <input type="file" id="csvFile" name="csvFile" accept=".csv" required hidden>
                </div>
            </div>
            <div class="form-actions full">
                <button type="submit" class="btn btn-primary btn-sm">Upload</button>
            </div>
        </form>
    </section>

    <!-- Media Details Form -->
    <section class="form-section mt-5">
        <h3>Media Details</h3>
        <form action="/upload" method="post" class="upload-form">
            <div class="form-group">
                <label for="mediaType">Media Type:</label>
                <input type="text" id="mediaType" name="mediaType" required>
            </div>
            <div class="form-group">
                <label for="mediaName">Media Name:</label>
                <input type="text" id="mediaName" name="mediaName" required>
            </div>
            <div class="form-group">
                <label for="duration">Duration:</label>
                <input type="text" id="duration" name="duration" required>
            </div>
            <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" id="date" name="date" required>
            </div>
            <div class="form-actions full">
                <button type="submit" class="btn btn-primary btn-sm">Submit</button>
            </div>
        </form>
    </section>
</div>
{% endblock %}

<script>
    document.getElementById('choose-file-btn').addEventListener('click', () => {
        document.getElementById('csvFile').click();
    });
</script>